---
description: "Rules for using the UV sandbox for dependency resolution"
type: agent-select
alwaysApply: false
globs: []
---
- Use pip for app/CI; use `tools/uv_sandbox/` only to resolve complex pins.
- Use when: major/risky upgrades (Protobuf â‰¥5, gRPC series changes, `torch` 2.7.x, `sentence-transformers` 5.x) or conflicts before changing `requirements*.txt`.
- Follow the steps in `tools/uv_sandbox/run.sh` and verify with `uv tree` and `uv pip check`.
- Guardrails: no `uv` in app/CI; prefer CPU wheels unless CUDA/ROCm needed.
